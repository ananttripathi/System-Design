<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>System Design Roadmap | SDE, ML, AI & Data</title>
  <style>
    :root {
      --bg-primary: #0f0f12;
      --bg-card: #1e1e24;
      --accent: #06b6d4;
      --accent-muted: rgba(6, 182, 212, 0.15);
      --text-primary: #fafafa;
      --text-secondary: #d4d4d8;
      --text-muted: #a1a1aa;
      --border: #3f3f46;
      --success: #22c55e;
      --radius: 12px;
      --radius-sm: 8px;
    }
    *,*::before,*::after{box-sizing:border-box}
    html{font-size:18px;scroll-behavior:smooth}
    body{margin:0;font-family:'Segoe UI',system-ui,-apple-system,sans-serif;background:var(--bg-primary);color:var(--text-primary);line-height:1.65;min-height:100vh;-webkit-font-smoothing:antialiased}
    .app{max-width:920px;margin:0 auto;padding:2.5rem 1.75rem;min-height:calc(100vh - 60px)}
    .header{text-align:center;margin-bottom:3rem}
    .logo{font-size:2rem;font-weight:700;margin:0 0 0.5rem;letter-spacing:-0.02em}
    .tagline{color:var(--text-secondary);font-size:1.1rem;margin:0;line-height:1.5}
    .journey-selection h2{font-size:1.35rem;color:var(--text-secondary);margin-bottom:2rem;text-align:center;font-weight:500}
    .journey-cards{display:grid;grid-template-columns:repeat(2,1fr);gap:1.25rem}
    .journey-card{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius);padding:1.75rem;cursor:pointer;transition:all 0.2s;text-align:left;font-size:1rem;color:var(--text-primary)}
    .journey-card:hover{border-color:var(--accent);background:var(--accent-muted);transform:translateY(-2px)}
    .card-icon{font-size:2.25rem;display:block;margin-bottom:0.875rem}
    .journey-card h3{font-size:1.2rem;margin:0 0 0.5rem;font-weight:600;color:var(--text-primary)}
    .journey-card p{color:var(--text-secondary);font-size:1rem;margin:0 0 0.875rem;line-height:1.5}
    .card-duration{font-size:0.9rem;color:var(--accent);font-weight:500}
    .roadmap-section.hidden,.journey-selection.hidden{display:none!important}
    .roadmap-header{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;margin-bottom:2rem}
    .back-btn{background:var(--bg-card);border:1px solid var(--border);color:var(--text-secondary);padding:0.6rem 1.25rem;border-radius:var(--radius-sm);cursor:pointer;font-size:1rem}
    .back-btn:hover{background:#2a2a32;color:var(--text-primary)}
    .progress-summary{display:flex;align-items:center;gap:1rem}
    .progress-bar-container{width:140px;height:10px;background:var(--bg-card);border-radius:5px;overflow:hidden}
    .progress-bar{height:100%;background:var(--accent);border-radius:5px;transition:width 0.3s}
    .progress-text{font-size:1rem;color:var(--text-secondary);font-weight:500}
    .phase-card{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:1.25rem;overflow:hidden}
    .phase-header{display:flex;align-items:center;gap:1rem;padding:1.15rem 1.5rem;cursor:pointer;min-height:56px}
    .phase-header:hover{background:rgba(255,255,255,0.03)}
    .phase-header h3{flex:1;margin:0;font-size:1.15rem;font-weight:600;color:var(--text-primary)}
    .phase-duration{font-size:0.9rem;color:var(--text-muted)}
    .phase-check{width:26px;height:26px;border-radius:6px;border:2px solid var(--border);flex-shrink:0;cursor:pointer;display:flex;align-items:center;justify-content:center}
    .phase-check.checked{background:var(--success);border-color:var(--success)}
    .phase-check.checked::after{content:'‚úì';color:white;font-size:13px;font-weight:bold}
    .phase-toggle{color:var(--text-muted);font-size:1.1rem}
    .phase-card.expanded .phase-toggle{transform:rotate(180deg)}
    .phase-content{display:none;padding:1rem 1.5rem 1.5rem;border-top:1px solid var(--border)}
    .phase-card.expanded .phase-content{display:block}
    .topic-list{list-style:none;padding:0;margin:0}
    .topic-item{display:flex;align-items:flex-start;gap:1rem;padding:0.75rem 0;border-bottom:1px solid var(--border);font-size:1.05rem;line-height:1.5}
    .topic-item:last-child{border-bottom:none}
    .topic-checkbox{width:22px;height:22px;border-radius:5px;border:2px solid var(--border);flex-shrink:0;cursor:pointer;display:flex;align-items:center;justify-content:center;margin-top:2px}
    .topic-checkbox:hover{border-color:var(--accent)}
    .topic-checkbox.checked{background:var(--success);border-color:var(--success)}
    .topic-checkbox.checked::after{content:'‚úì';color:white;font-size:12px;font-weight:bold}
    .topic-content{flex:1;min-width:0}
    .topic-link{color:var(--text-secondary);text-decoration:none;display:inline-flex;align-items:center;gap:0.35rem;transition:color 0.2s}
    .topic-link:hover{color:var(--accent);text-decoration:underline}
    .topic-link .link-icon{font-size:0.85em;opacity:0.8}
    .topic-item.done .topic-link{color:var(--text-muted);text-decoration:line-through}
    .topic-item.done .topic-link:hover{color:var(--accent)}
    .topic-desc{font-size:0.9rem;color:var(--text-muted);margin-top:0.25rem}
    .footer{text-align:center;padding:2rem;color:var(--text-muted);font-size:0.95rem}
    .footer a{color:var(--accent);text-decoration:none}
    .footer a:hover{text-decoration:underline}
    @media(max-width:600px){html{font-size:16px}.app{padding:1.25rem}.journey-cards{grid-template-columns:1fr}.topic-item{font-size:1rem}}
  </style>
</head>
<body>
  <div class="app">
    <header class="header">
      <h1 class="logo">üèóÔ∏è System Design Roadmap</h1>
      <p class="tagline">Choose your role. Master system design. Ace your interviews.</p>
    </header>

    <section class="journey-selection" id="journeySection">
      <h2>Choose Your Role</h2>
      <div class="journey-cards">
        <button class="journey-card" data-journey="sde">
          <span class="card-icon">üë®‚Äçüíª</span>
          <h3>Software Engineer (SDE)</h3>
          <p>General system design: scaling, APIs, databases</p>
          <span class="card-duration">4-6 months</span>
        </button>
        <button class="journey-card" data-journey="ml-engineer">
          <span class="card-icon">ü§ñ</span>
          <h3>ML Engineer</h3>
          <p>ML pipelines, model serving, feature stores</p>
          <span class="card-duration">3-5 months</span>
        </button>
        <button class="journey-card" data-journey="ai-engineer">
          <span class="card-icon">‚ú®</span>
          <h3>AI Engineer</h3>
          <p>LLM systems, RAG, inference at scale</p>
          <span class="card-duration">3-5 months</span>
        </button>
        <button class="journey-card" data-journey="data-scientist">
          <span class="card-icon">üìä</span>
          <h3>Data Scientist</h3>
          <p>Experimentation, data pipelines, ML systems</p>
          <span class="card-duration">3-4 months</span>
        </button>
        <button class="journey-card" data-journey="data-engineer">
          <span class="card-icon">üîß</span>
          <h3>Data Engineer</h3>
          <p>Data pipelines, warehouses, streaming</p>
          <span class="card-duration">3-5 months</span>
        </button>
      </div>
    </section>

    <section class="roadmap-section hidden" id="roadmapSection">
      <div class="roadmap-header">
        <button class="back-btn" id="backBtn">‚Üê Back to roles</button>
        <div class="progress-summary">
          <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar"></div>
          </div>
          <span class="progress-text" id="progressText">0% complete</span>
        </div>
      </div>
      <div class="roadmap-content" id="roadmapContent"></div>
    </section>
  </div>

  <footer class="footer">
    <p><a href="https://github.com/ananttripathi/System-Design" target="_blank">View on GitHub</a> ‚Ä¢ Progress saved in browser</p>
  </footer>

  <script>
    const STORAGE_KEY='system-design-progress';
    const SD='https://github.com/donnemartin/system-design-primer';
    const roadmaps={
      'sde':{name:'Software Engineer (SDE)',phases:[
        {id:'sde-p1',name:'Phase 1: Fundamentals',duration:'1-2 months',topics:[
          {n:'CAP theorem, consistency models',u:'https://en.wikipedia.org/wiki/CAP_theorem',d:'Wikipedia - CAP theorem'},
          {n:'Horizontal vs vertical scaling',u:SD+'#horizontal-and-vertical-scaling',d:'System Design Primer'},
          {n:'Load balancing (round-robin, consistent hashing)',u:SD+'#load-balancer',d:'System Design Primer - Load balancer'},
          {n:'Caching strategies (LRU, Redis, CDN)',u:SD+'#cache',d:'System Design Primer - Cache'},
          {n:'Database types: SQL vs NoSQL',u:SD+'#sql-or-nosql',d:'System Design Primer - SQL vs NoSQL'},
          {n:'Indexing, sharding, replication',u:SD+'#sharding',d:'System Design Primer - Sharding'}
        ]},
        {id:'sde-p2',name:'Phase 2: Core Patterns',duration:'1-2 months',topics:[
          {n:'Microservices vs monolithic',u:'https://microservices.io/patterns/monolithic.html',d:'Microservices patterns'},
          {n:'API design: REST, gRPC, GraphQL',u:'https://cloud.google.com/blog/products/api-management/understanding-grpc-vs-rest',d:'gRPC vs REST'},
          {n:'Message queues: Kafka, RabbitMQ, SQS',u:'https://kafka.apache.org/documentation/',d:'Kafka documentation'},
          {n:'Event-driven architecture',u:'https://martinfowler.com/articles/201701-event-driven.html',d:'Martin Fowler - Event-driven'},
          {n:'Database design: normalization, denormalization',u:'https://www.studytonight.com/dbms/database-normalization.php',d:'Database normalization'},
          {n:'Rate limiting & circuit breakers',u:'https://en.wikipedia.org/wiki/Rate_limiting',d:'Rate limiting - Wikipedia'}
        ]},
        {id:'sde-p3',name:'Phase 3: Classic Systems',duration:'1-2 months',topics:[
          {n:'Design: URL shortener',u:SD+'#design-a-url-shortener',d:'System Design Primer - URL shortener'},
          {n:'Design: Rate limiter',u:SD+'#design-a-rate-limiter',d:'System Design Primer - Rate limiter'},
          {n:'Design: Chat / messaging system',u:SD+'#design-a-chat-system',d:'System Design Primer - Chat'},
          {n:'Design: News feed (Twitter-style)',u:SD+'#design-news-feed-system',d:'System Design Primer - News feed'},
          {n:'Design: Search (autocomplete, full-text)',u:SD+'#design-typeahead-suggestion',d:'System Design Primer - Typeahead'},
          {n:'Design: Distributed file storage',u:SD+'#design-a-file-storage-system',d:'System Design Primer - File storage'}
        ]},
        {id:'sde-p4',name:'Phase 4: Advanced',duration:'1-2 months',topics:[
          {n:'Design: Video streaming (Netflix)',u:SD+'#design-netflix',d:'System Design Primer - Netflix'},
          {n:'Design: Ride-sharing (Uber)',u:SD+'#design-uber',d:'System Design Primer - Uber'},
          {n:'Design: Instagram / photo sharing',u:SD+'#design-instagram',d:'System Design Primer - Instagram'},
          {n:'Design: E-commerce checkout',u:'https://www.educative.io/courses/grokking-the-system-design-interview',d:'Grokking System Design'},
          {n:'Distributed tracing, monitoring',u:'https://opentelemetry.io/docs/',d:'OpenTelemetry docs'},
          {n:'Trade-offs & back-of-envelope estimation',u:SD+'#back-of-the-envelope-estimation',d:'System Design Primer - Estimation'}
        ]}
      ]},
      'ml-engineer':{name:'ML Engineer',phases:[
        {id:'mle-p1',name:'Phase 1: ML System Basics',duration:'2-4 weeks',topics:[
          {n:'ML lifecycle: training vs inference',u:'https://huyenchip.com/ml-systems-design/toc.html',d:'Chip Huyen - ML Systems Design'},
          {n:'Batch vs real-time inference',u:'https://huyenchip.com/ml-systems-design/toc.html',d:'ML Systems Design'},
          {n:'Latency, throughput, cost trade-offs',u:'https://martinfowler.com/articles/cd4ml.html',d:'CD4ML - Martin Fowler'},
          {n:'Model versioning & registry',u:'https://mlflow.org/docs/latest/model-registry.html',d:'MLflow Model Registry'}
        ]},
        {id:'mle-p2',name:'Phase 2: Training & Data',duration:'1-2 months',topics:[
          {n:'Feature stores (Feast, Tecton)',u:'https://docs.feast.dev/',d:'Feast documentation'},
          {n:'Training pipelines: Airflow, Kubeflow',u:'https://airflow.apache.org/docs/apache-airflow/stable/tutorial.html',d:'Airflow tutorial'},
          {n:'Data validation & quality in ML',u:'https://docs.greatexpectations.io/',d:'Great Expectations'},
          {n:'Distributed training (data/model parallel)',u:'https://pytorch.org/tutorials/beginner/dist_overview.html',d:'PyTorch distributed'},
          {n:'Experiment tracking (MLflow, W&B)',u:'https://mlflow.org/docs/latest/tracking.html',d:'MLflow tracking'}
        ]},
        {id:'mle-p3',name:'Phase 3: Serving & Deployment',duration:'1-2 months',topics:[
          {n:'Model serving: batch vs online',u:'https://huyenchip.com/ml-systems-design/toc.html',d:'ML Systems Design'},
          {n:'A/B testing for ML models',u:'https://exp-platform.com/Documents/2013-02-CER-Daily-Experiment.pdf',d:'LinkedIn - A/B testing'},
          {n:'Shadow deployment, canary',u:'https://martinfowler.com/bliki/CanaryRelease.html',d:'Canary release - Martin Fowler'},
          {n:'Model monitoring & drift detection',u:'https://arxiv.org/abs/1511.05917',d:'Data drift - arXiv'},
          {n:'Design: Recommendation system',u:'https://github.com/eugeneyan/ml-systems-design',d:'ML Systems Design - recommendations'},
          {n:'Design: Fraud detection pipeline',u:'https://huyenchip.com/ml-systems-design/toc.html',d:'ML Systems Design'}
        ]},
        {id:'mle-p4',name:'Phase 4: At Scale',duration:'1-2 months',topics:[
          {n:'Design: Search ranking at scale',u:'https://github.com/eugeneyan/ml-systems-design',d:'ML Systems Design repo'},
          {n:'Design: Ads targeting system',u:'https://research.google/pubs/pub41159/',d:'Google - Ads system'},
          {n:'Caching for inference',u:'https://engineering.fb.com/2022/06/21/ml-applications/ml-model-caching/',d:'Meta - model caching'},
          {n:'Multi-model serving',u:'https://www.tensorflow.org/tfx/guide/serving',d:'TensorFlow Serving'},
          {n:'Cost optimization strategies',u:'https://huyenchip.com/ml-systems-design/toc.html',d:'ML Systems Design'}
        ]}
      ]},
      'ai-engineer':{name:'AI Engineer',phases:[
        {id:'aie-p1',name:'Phase 1: LLM System Basics',duration:'2-4 weeks',topics:[
          {n:'LLM inference: latency, cost, tokens',u:'https://www.anthropic.com/research/measuring-optimization',d:'LLM inference optimization'},
          {n:'Prompt engineering at scale',u:'https://www.promptingguide.ai/',d:'Prompt Engineering Guide'},
          {n:'Caching for LLM responses',u:'https://docs.llamaindex.ai/en/stable/optimizing/caching/',d:'LlamaIndex caching'},
          {n:'Batching & throughput optimization',u:'https://docs.vllm.ai/en/latest/',d:'vLLM - high throughput inference'}
        ]},
        {id:'aie-p2',name:'Phase 2: RAG Systems',duration:'1-2 months',topics:[
          {n:'RAG architecture: chunking, retrieval, generation',u:'https://www.deeplearning.ai/short-courses/retrieval-augmented-generation/',d:'RAG short course'},
          {n:'Vector DBs: indexing, scaling',u:'https://docs.trychroma.com/',d:'Chroma docs'},
          {n:'Embedding pipelines & batch processing',u:'https://www.sbert.net/docs/quickstart.html',d:'sentence-transformers'},
          {n:'Hybrid search: dense + sparse',u:'https://www.pinecone.io/learn/hybrid-search-intro/',d:'Pinecone - hybrid search'},
          {n:'Reranking & context selection',u:'https://www.sbert.net/examples/applications/cross-encoder/README.html',d:'Cross-encoder reranking'}
        ]},
        {id:'aie-p3',name:'Phase 3: Agents & Production',duration:'1-2 months',topics:[
          {n:'Design: AI chatbot with memory',u:'https://python.langchain.com/docs/modules/memory/',d:'LangChain memory'},
          {n:'Design: RAG-based Q&A at scale',u:'https://www.anthropic.com/research/building-evals',d:'RAG evals'},
          {n:'Agent orchestration: tool use, planning',u:'https://python.langchain.com/docs/modules/agents/',d:'LangChain agents'},
          {n:'Streaming responses & UX',u:'https://platform.openai.com/docs/api-reference/streaming',d:'OpenAI streaming API'},
          {n:'Rate limiting for LLM APIs',u:'https://platform.openai.com/docs/guides/rate-limits',d:'OpenAI rate limits'}
        ]},
        {id:'aie-p4',name:'Phase 4: Advanced',duration:'1-2 months',topics:[
          {n:'Design: Code assistant (Copilot-style)',u:'https://github.blog/2021-06-22-introducing-github-copilot/',d:'GitHub Copilot blog'},
          {n:'Design: Document processing pipeline',u:'https://docs.llamaindex.ai/en/stable/',d:'LlamaIndex docs'},
          {n:'Multi-modal systems (vision + text)',u:'https://openai.com/research/gpt-4v',d:'GPT-4V - multimodal'},
          {n:'Fine-tuning pipeline design',u:'https://huggingface.co/blog/trl-peft',d:'TRL + PEFT'},
          {n:'Evaluation & observability (LangSmith)',u:'https://docs.smith.langchain.com/',d:'LangSmith docs'}
        ]}
      ]},
      'data-scientist':{name:'Data Scientist',phases:[
        {id:'ds-p1',name:'Phase 1: Data & Experimentation',duration:'2-4 weeks',topics:[
          {n:'A/B testing platform design',u:'https://exp-platform.com/Documents/2013-02-CER-Daily-Experiment.pdf',d:'LinkedIn - Experimentation'},
          {n:'Experiment randomization & stratification',u:'https://www.evanmiller.org/ab-testing/',d:'Evan Miller - A/B testing'},
          {n:'Metrics collection & aggregation',u:'https://amplitude.com/blog/product-metrics',d:'Product metrics'},
          {n:'Statistical significance at scale',u:'https://www.statsmodels.org/stable/users-guide.html',d:'statsmodels'}
        ]},
        {id:'ds-p2',name:'Phase 2: ML Systems for DS',duration:'1-2 months',topics:[
          {n:'Feature store for analytics',u:'https://docs.feast.dev/',d:'Feast docs'},
          {n:'Data pipeline for training data',u:'https://airflow.apache.org/docs/',d:'Airflow docs'},
          {n:'Model deployment: batch predictions',u:'https://mlflow.org/docs/latest/models.html',d:'MLflow models'},
          {n:'Dashboard & reporting systems',u:'https://www.metabase.com/',d:'Metabase'}
        ]},
        {id:'ds-p3',name:'Phase 3: Data Pipeline Design',duration:'1-2 months',topics:[
          {n:'Design: Analytics data pipeline',u:'https://www.databricks.com/glossary/medallion-architecture',d:'Medallion architecture'},
          {n:'Design: Recommendation metrics pipeline',u:'https://github.com/eugeneyan/ml-systems-design',d:'ML Systems Design'},
          {n:'Real-time vs batch analytics',u:'https://kafka.apache.org/documentation/',d:'Kafka docs'},
          {n:'Data quality & monitoring',u:'https://docs.greatexpectations.io/',d:'Great Expectations'}
        ]},
        {id:'ds-p4',name:'Phase 4: Case Studies',duration:'1 month',topics:[
          {n:'Design: Experimentation platform',u:'https://netflixtechblog.com/',d:'Netflix Tech Blog'},
          {n:'Design: ML feature pipeline',u:'https://www.tecton.ai/blog/',d:'Tecton blog'},
          {n:'Trade-offs: freshness vs cost',u:'https://huyenchip.com/ml-systems-design/toc.html',d:'ML Systems Design'},
          {n:'Interview prep: DS system design',u:'https://github.com/ananttripathi/System-Design',d:'This repo'}
        ]}
      ]},
      'data-engineer':{name:'Data Engineer',phases:[
        {id:'de-p1',name:'Phase 1: Pipeline Fundamentals',duration:'2-4 weeks',topics:[
          {n:'ETL vs ELT architecture',u:'https://www.stitchdata.com/resources/etl/',d:'ETL guide'},
          {n:'Batch vs streaming design',u:'https://kafka.apache.org/documentation/streams/',d:'Kafka Streams'},
          {n:'Data lake vs warehouse vs lakehouse',u:'https://www.databricks.com/glossary/lakehouse',d:'Lakehouse - Databricks'},
          {n:'Schema evolution & versioning',u:'https://docs.getdbt.com/docs/build/project-yaml-files',d:'dbt schema'}
        ]},
        {id:'de-p2',name:'Phase 2: Core Systems',duration:'1-2 months',topics:[
          {n:'Design: Real-time analytics pipeline',u:'https://kafka.apache.org/documentation/',d:'Kafka docs'},
          {n:'Design: Change data capture (CDC)',u:'https://debezium.io/documentation/',d:'Debezium - CDC'},
          {n:'Kafka: partitioning, consumer groups',u:'https://kafka.apache.org/documentation/#consumerapi',d:'Kafka consumer'},
          {n:'Data quality & reconciliation',u:'https://docs.greatexpectations.io/',d:'Great Expectations'},
          {n:'Medallion architecture (Bronze, Silver, Gold)',u:'https://www.databricks.com/glossary/medallion-architecture',d:'Databricks - medallion'}
        ]},
        {id:'de-p3',name:'Phase 3: At Scale',duration:'1-2 months',topics:[
          {n:'Design: Log aggregation pipeline',u:'https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html',d:'Elasticsearch'},
          {n:'Design: Data warehouse ingestion',u:'https://docs.getdbt.com/',d:'dbt docs'},
          {n:'Spark: optimization, partitioning',u:'https://spark.apache.org/docs/latest/rdd-programming-guide.html',d:'Spark docs'},
          {n:'Cost optimization: storage, compute',u:'https://docs.aws.amazon.com/whitepapers/',d:'AWS whitepapers'}
        ]},
        {id:'de-p4',name:'Phase 4: Advanced',duration:'1-2 months',topics:[
          {n:'Design: Multi-tenant data platform',u:'https://www.snowflake.com/guides/',d:'Snowflake guides'},
          {n:'Design: ML feature pipeline',u:'https://docs.feast.dev/',d:'Feast docs'},
          {n:'Data governance & lineage',u:'https://www.collibra.com/us/en/blog/data-lineage',d:'Data lineage'},
          {n:'Trade-offs & capacity planning',u:SD+'#back-of-the-envelope-estimation',d:'Back-of-envelope estimation'}
        ]}
      ]}
    };
    let currentJourney=null;
    let progress={};
    function loadProgress(){try{const d=localStorage.getItem(STORAGE_KEY);return d?JSON.parse(d):{}}catch{return{}}}
    function saveProgress(){try{localStorage.setItem(STORAGE_KEY,JSON.stringify(progress))}catch(e){}}
    function pk(j,pid,i){return i===undefined?j+'_'+pid:j+'_'+pid+'_'+i}
    function phaseComplete(j,p){return p.topics.every((_,i)=>!!progress[pk(j,p.id,i)])}
    function topicDone(j,pid,i){return!!progress[pk(j,pid,i)]}
    function overallPct(j){let t=0,d=0;roadmaps[j].phases.forEach(p=>{p.topics.forEach((_,i)=>{t++;if(topicDone(j,p.id,i))d++})});return t?Math.round(d/t*100):0}
    function render(){
      const rd=roadmaps[currentJourney];
      const c=document.getElementById('roadmapContent');
      c.innerHTML='';
      rd.phases.forEach(phase=>{
        const done=phaseComplete(currentJourney,phase);
        const div=document.createElement('div');
        div.className='phase-card expanded';
        const topicsHtml=phase.topics.map((t,i)=>{const d=topicDone(currentJourney,phase.id,i);const link=t.u?'<a href="'+t.u+'" target="_blank" rel="noopener" class="topic-link" onclick="event.stopPropagation()">'+t.n+' <span class="link-icon">‚Üó</span></a>':'<span class="topic-label">'+t.n+'</span>';const desc=t.d?'<div class="topic-desc">'+t.d+'</div>':'';return'<li class="topic-item '+(d?'done':'')+'"><div class="topic-checkbox '+(d?'checked':'')+'" data-key="'+pk(currentJourney,phase.id,i)+'"></div><div class="topic-content">'+link+desc+'</div></li>'}).join('');
        div.innerHTML='<div class="phase-header"><div class="phase-check '+(done?'checked':'')+'" data-pid="'+phase.id+'"></div><h3>'+phase.name+'</h3><span class="phase-duration">'+phase.duration+'</span><span class="phase-toggle">‚ñº</span></div><div class="phase-content"><ul class="topic-list">'+topicsHtml+'</ul></div>';
        c.appendChild(div);
      });
      document.querySelectorAll('.phase-header').forEach(h=>{const card=h.closest('.phase-card');h.onclick=e=>{if(!e.target.closest('a')&&!e.target.classList.contains('topic-checkbox')&&!e.target.closest('.topic-checkbox')&&!e.target.classList.contains('phase-check'))card.classList.toggle('expanded')}});
      document.querySelectorAll('.phase-check').forEach(el=>{el.onclick=e=>{e.stopPropagation();const p=roadmaps[currentJourney].phases.find(x=>x.id===el.dataset.pid);const all=phaseComplete(currentJourney,p);p.topics.forEach((_,i)=>{progress[pk(currentJourney,p.id,i)]=!all});saveProgress();render()}});
      document.querySelectorAll('.topic-checkbox').forEach(el=>{el.onclick=e=>{e.stopPropagation();progress[el.dataset.key]=!progress[el.dataset.key];saveProgress();render()}});
      document.getElementById('progressBar').style.width=overallPct(currentJourney)+'%';
      document.getElementById('progressText').textContent=overallPct(currentJourney)+'% complete';
    }
    function showJourney(){currentJourney=null;document.getElementById('journeySection').classList.remove('hidden');document.getElementById('roadmapSection').classList.add('hidden')}
    function showRoadmap(j){currentJourney=j;document.getElementById('journeySection').classList.add('hidden');document.getElementById('roadmapSection').classList.remove('hidden');render()}
    progress=loadProgress();
    document.querySelectorAll('.journey-card').forEach(c=>c.onclick=()=>showRoadmap(c.dataset.journey));
    document.getElementById('backBtn').onclick=showJourney;
  </script>
</body>
</html>
